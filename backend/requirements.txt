# ============================================
# RAG BBL/KOV Application - Backend Dependencies
# Last updated: November 4, 2025
# Python: >=3.12, <3.14
# ============================================

# FastAPI and web server
fastapi==0.121.0              # Latest stable (Nov 2025)
uvicorn[standard]==0.34.0     # ASGI server with production extras
python-multipart==0.0.20      # File upload support

# Database
sqlalchemy==2.0.36            # Async-capable ORM
alembic==1.17.1              # Database migrations

# Authentication and security
pyjwt==2.10.1                # JWT token handling
passlib[bcrypt]==1.7.5       # Password hashing (bcrypt 5.0 compatible)
bcrypt==5.0.0                # Bcrypt 5.0 - performance improvements
slowapi==0.1.9               # Rate limiting middleware

# OpenAI API (Primary - Production RAG)
openai==1.57.2               # Stable 1.x API (2.x has breaking changes)

# Qdrant vector database client
qdrant-client==1.15.1        # Latest compatible with Python 3.12

# Document processing
PyMuPDF==1.26.5              # PDF parsing (latest for Python 3.12)
python-docx==1.1.2           # Word document support

# Data validation
pydantic==2.10.3             # FastAPI 0.121 compatibility
pydantic[email]==2.10.3      # Email validation support

# Environment variables
python-dotenv==1.0.1         # .env file loading

# Email services
resend==2.6.0                # Modern email API (2024+)

# HTTP client
# Note: httpx 0.28.x has compatibility issues with some packages
# Using 0.27.x for maximum compatibility
httpx==0.27.2                # Async HTTP client (used by OpenAI SDK)

# Utilities
numpy==1.26.4                # NumPy (compatible with Python 3.12)

# Testing
pytest==8.3.4                # Testing framework
pytest-asyncio==0.24.0       # Async test support
pytest-cov==6.0.0            # Coverage reporting
pytest-mock==3.14.0          # Mocking utilities

# ============================================
# Version notes:
# ============================================
# Verified compatible: November 4, 2025
#
# Major versions:
# - FastAPI 0.121.0: Latest with Pydantic 2.10 support
# - OpenAI 1.57.2: Stable 1.x API. Upgrade to 2.x needs code changes
# - Bcrypt 5.0.0: Performance improvements over 4.x
# - Qdrant 1.15.1: Latest with Python 3.12 support
# - PyMuPDF 1.26.5: Latest for Python 3.12
# - httpx 0.27.2: Compatibility with ecosystem packages
#
# Compatibility notes:
# - httpx kept at 0.27.2 for maximum compatibility
# - All packages tested together
# - Python 3.12+ required
